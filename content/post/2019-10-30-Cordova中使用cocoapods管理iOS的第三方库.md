---
layout: post

title: Cordova中使用cocoapods管理iOS的第三方库

date: 2019-10-30 16:00:00

categories: ["Cordova"]

tags: 

mathjax: true

---

`Cordova `已经支持iOS的`cocoapods`管理第三方库。

如果自定义的`plugin`中使用了`cocoapods`管理的框架，可以在`plugin.xml`文件中添加`pod`的引用，在`Cordova plugin add`的时候，会根据配置文件，同时安装`cocoapods`中的库，可参考[Cordova的文档](https://cordova.apache.org/docs/en/9.x/plugin_ref/spec.html#podspec-ios)填写配置信息。

举例如下：

在`plugin.xml`文件中的iOS的平台配置中添加下面的`pod`配置

```xml
    <podspec>
      <config>
        <source url="https://github.com/brightcove/BrightcoveSpecs.git" />
        <source url="https://github.com/CocoaPods/Specs.git"/>
      </config>
      <pods use-frameworks="true">
        <pod name="AFNetworking" spec="~> 3.2" />
        <pod name="SDWebImage" spec="~> 4.0" />
        <pod name="Eureka" swift-version="3.3" />
        <pod name="AcknowList" />
        <pod name="Brightcove-Player-Core" spec="~> 6.3.4" />
        <pod name="Foobar1" git="git@github.com:hoge/foobar1.git" configurations="Debug"/>
        <pod name="Foobar2" git="git@github.com:hoge/foobar2.git" branch="next" configurations="Debug,Release"/>
        <pod name="FoobarSwift" swift-version="4.1" />
      </pods>
    </podspec>
```

安装`plugin`之后项目工程中的`Podfile`文件就会添加上面配置中的框架，

```bash
# DO NOT MODIFY -- auto-generated by Apache Cordova
source 'https://github.com/brightcove/BrightcoveSpecs.git'
source 'https://github.com/CocoaPods/Specs.git'
platform :ios, '9.0'
use_frameworks!
target 'HelloCordova' do
    project 'HelloCordova.xcodeproj'
    pod 'AFNetworking', '~> 3.2'
    pod 'SDWebImage', '~> 4.0'
    pod 'Eureka'
    pod 'AcknowList'
    pod 'Brightcove-Player-Core', '~> 6.3.4'
    pod 'Foobar1', :git => 'git@github.com:hoge/foobar1.git', :configurations => ['Debug']
    pod 'Foobar2', :branch => 'next', :git => 'git@github.com:hoge/foobar2.git', :configurations => ['Debug','Release']
    pod 'FoobarSwift'
end
```



