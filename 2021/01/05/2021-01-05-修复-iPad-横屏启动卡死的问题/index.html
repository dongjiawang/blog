<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记录一下个人码农经历。"><title>修复 iPad 横屏启动卡死的问题 | 我的码</title><link rel="stylesheet" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="/css/dark.css?v=0.0.0"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-141040294-1","auto"),ga("send","pageview")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?fa4bbb246def5e07ea71011a568aceaa";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><script data-ad-client="ca-pub-2074490477284403" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">修复 iPad 横屏启动卡死的问题</h1><a id="logo" href="/.">我的码</a><p class="description">dongjiawang</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home">首页</i></a> <a href="/archives/"><i class="fa fa-archive">归档</i></a> <a href="/about/"><i class="fa fa-user">关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">修复 iPad 横屏启动卡死的问题</h1><div class="post-meta">2021-01-05 <span>|</span> <span class="category"><a href="/categories/iOS/">iOS</a></span> <span class="post-time"><span class="post-meta-item-text">|</span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i> <span class="post-count">411</span> <span class="post-meta-item-text">字</span></span></span> <span class="post-time">|<span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> <span class="post-count">1</span> <span class="post-meta-item-text">分钟</span></span></span></div><a class="disqus-comment-count" href="/2021/01/05/2021-01-05-修复-iPad-横屏启动卡死的问题/#vcomment"><span class="valine-comment-count" data-xid="/2021/01/05/2021-01-05-修复-iPad-横屏启动卡死的问题/"></span> <span>条评论</span></a><div class="post-content"><h3 id="一、问题与定位"><a href="#一、问题与定位" class="headerlink" title="一、问题与定位"></a>一、问题与定位</h3><p>使用<code>Xcode 12</code>打包项目后，iPad 横屏状态时，启动网校 app，展示的是横屏的启动页，在进入首页时<code>偶发性</code>的出现卡死的现象。</p><p>分析认为在<code>Deployment Info</code> 中设置支持横屏方向，所以在iPad横屏时，app会以横屏的方式启动，但是当前网校项目的首页是不支持横屏的，会出现一些布局的冲突，造成了在部分机型或系统中出现卡死的现象。</p><h3 id="二、解决方式"><a href="#二、解决方式" class="headerlink" title="二、解决方式"></a>二、解决方式</h3><ol><li><p>在 Xcode 的 <code>General</code> -&gt;<code>Deployment Info</code>中设置<code>Device Orientation</code>只勾选<code>Portrait</code>,这样会强制竖屏启动；</p></li><li><p><code>AppDelegate</code>中增加关于支持设备方向的代理方法</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (UIInterfaceOrientationMask)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window &#123;</span><br><span class="line">    return UIInterfaceOrientationMaskAllButUpsideDown;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>贴一下苹果对这个的解释:<br>Discussion<br>This method returns the total set of interface orientations supported by the app. When determining whether to rotate a particular view controller, the orientations returned by this method are intersected with the orientations supported by the root view controller or topmost presented view controller. The app and view controller must agree before the rotation is allowed.<br>If you do not implement this method, the app uses the values in the UIInterfaceOrientation key of the app’s Info.plist as the default interface orientations.</p><p>翻译：<br>该方法返回应用程序支持的接口方向的总集合。在决定是否旋转某个特定视图控制器时，该方法返回的方向与根视图控制器或最上层呈现的视图控制器支持的方向相交。在允许旋转之前，app和视图控制器必须达成一致。</p><p>如果你不实现这个方法，应用会使用应用信息的UIInterfaceOrientation键中的值。作为默认的接口方向。</p></blockquote></div><script src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="https://blog.dongjiawang.top/2021/01/05/2021-01-05-修复-iPad-横屏启动卡死的问题/" data-id="ckmh68nwm00b8jxtsmyjm79y5" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADJElEQVR42u3awW7bMBAEUP//T7tATwXa2jNcGo6op5MRKRKfDGSzO3w84uP5+0g+//mTyd3+vufrs49PHNjY2NgXYT9fHq8XlCwxuXLX/RMLNjY29qnspMwkV/7v+rz8TL6AfIXY2NjY92SvLS45277cvJnBxsbGxs6HO0lZyic87e9iY2NjYycFaa3lmC+3LY2bZ2nY2NjYP569N+j97uev5dvY2NjYX2I/y2MyhEpajrZpWVRgY2NjH8TOt+Mkj9xVAttmJo8ionQaGxsb+1Lste2MyePzJiEpRWstx5vvGRsbG/sI9tpoqf6nP46E8/ghiTGwsbGx78Ne20aZLzofPK1t32wbFWxsbOzz2O2yJktPGph8wLQWMGBjY2OfxE5aiLZczYvQx5scbGxs7EPZeTOwNzyYtz05+B87lbCxsbEvzs7LxjxzyIvlrjB4FBJgY2NjX4Q9+dOfL70tUZMCiY2NjX1P9gScPKYdJ7XNRts4YWNjY5/KXotXkzu0cWxe2NrRFTY2Nvap7KTY5Lw8Nq4LT7ltKOrAsLGxsS/O3rBbM3hMXlrWyl7yW2/OYmNjY1+WnVyUHDl+baFrm4HebNPBxsbGPoLdXtqOk9YG/e3Z0SvGxsbGvjg7Hwzlo5w2Es7bmHxU9OZrw8bGxj6O3TYnayOhtRFSXgKLO2NjY2MfxM5JSbuSRwtrd06akzrkwMbGxr4Be41UNAa7tt2UXyE2Njb2eey14fsaNR/6t/EDNjY29p3ZSXuw62jHWGuxbjFUwsbGxr4sexKyTpqTvGTm462i+GFjY2MfxJ4Xic8tdB4kPNo3jY2NjX1BdlvAdt2h/Zy84gKPjY2NfRy7jWzzx69FDvl9FiNnbGxs7OPY87H+2saavAhNotwoHsDGxsa+LLtdXBusztuY/D4bsm5sbGzsy7LzoDT6Rz9+cfNwtx1+FdUbGxsb+4LsfKHzs3nMnBenOsDGxsbGviV7b/ez99UkoQU2NjY29nwpkwKWj6WimRk2Njb2ceycMW8M2ivz4Pkj8QA2Njb2j2e3QW8bCbTgtcLWbjPCxsbGPoL9C5Bev4O0TNgmAAAAAElFTkSuQmCC">分享</a><div class="tags"><a href="/source/Tags/iOS/"><i class="fa fa-tag"></i>iOS</a></div><div class="post-nav"><a class="pre" href="/2021/03/20/2021-02-20-Jenkins 使用/">Jenkins 使用</a><a class="next" href="/2020/09/27/2020-09-27-webView-clickedImage/">网页图片添加点击方法获取图片</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify=!0,verify=!0,GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(i){return-1<GUEST_INFO.indexOf(i)});guest_info=0==guest_info.length?GUEST_INFO:guest_info,window.valine=new Valine({el:"#vcomment",notify:notify,verify:verify,appId:"wLhtcXVYjrwirVPhNzqAw5Co-gzGzoHsz",appKey:"k3s9znY8T9tSPoHmBW9d5ls1",placeholder:"说下你的评论，并留下联系邮箱吧",avatar:"mm",guest_info:guest_info,pageSize:"10"})</script><div id="minivaline-container"></div><script src="https://unpkg.com/minivaline/dist/MiniValine.min.js"></script><script>new MiniValine({el:"#minivaline-container",appId:"",appKey:"",placeholder:"Write a Comment",lang:"",adminEmailMd5:"",math:!0,md:!0})</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://blog.dongjiawang.top"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o">分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AVPlayer/">AVPlayer</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CocoaPods/">CocoaPods</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cordova/">Cordova</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/">Xcode</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">107</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/libSDK/">libSDK</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/博客/">博客</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程知识/">编程知识</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/遇到的问题/">遇到的问题</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o">标签</i></div><div class="tagcloud"><a href="/source/Tags/iOS/" style="font-size:15px">iOS</a> <a href="/source/Tags/UICollectionView/" style="font-size:15px">UICollectionView</a> <a href="/source/Tags/编程知识/" style="font-size:15px">编程知识</a> <a href="/source/Tags/动画/" style="font-size:15px">动画</a> <a href="/source/Tags/UITableView/" style="font-size:15px">UITableView</a> <a href="/source/Tags/webView/" style="font-size:15px">webView</a> <a href="/source/Tags/layer/" style="font-size:15px">layer</a> <a href="/source/Tags/Photos/" style="font-size:15px">Photos</a> <a href="/source/Tags/NSString/" style="font-size:15px">NSString</a> <a href="/source/Tags/nginx/" style="font-size:15px">nginx</a> <a href="/source/Tags/UIView/" style="font-size:15px">UIView</a> <a href="/source/Tags/Runtime/" style="font-size:15px">Runtime</a> <a href="/source/Tags/UITextField/" style="font-size:15px">UITextField</a> <a href="/source/Tags/UITextView/" style="font-size:15px">UITextView</a> <a href="/source/Tags/UISlider/" style="font-size:15px">UISlider</a> <a href="/source/Tags/flutter/" style="font-size:15px">flutter</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o">最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/03/20/2021-02-20-Jenkins 使用/">Jenkins 使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/05/2021-01-05-修复-iPad-横屏启动卡死的问题/">修复 iPad 横屏启动卡死的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/27/2020-09-27-webView-clickedImage/">网页图片添加点击方法获取图片</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/2020-09-26-wkwebview-cookie/">WKProcesspool方式共享WKWebView的进程和cookie</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/2020-09-26-launchStoryBoard/">启动页白屏</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/19/2020-01-19-screenRecord/">录屏功能</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/17/2020-01-17-检测设备方向/">检测设备方向</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/09/2019-12-09-UIVideoEditorController的颜色/">UIVideoEditorController的颜色</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/06/2019-12-06-UIVideoEditorController/">UIVideoEditorController</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/08/2019-11-08-Cordova创建plugin/">Cordova创建plugin</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link">友情链接</i></div><ul></ul><a href="https://github.com/dongjiawang" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="https://resume.dongjiawang.top" title="个人简历" target="_blank">个人简历</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">我的码.</a> Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo.</a> <a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo">Theme</a> by <a rel="nofollow" target="_blank" href="https://github.com/pagecho">Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script src="/js/totop.js?v=0.0.0" async></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script src="/js/love.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script src="/js/codeblock-resizer.js?v=0.0.0"></script><script src="/js/smartresize.js?v=0.0.0"></script></div></body></html>